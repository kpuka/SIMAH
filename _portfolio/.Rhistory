b <- .1
sd_out <- 1
sd_pred <- 1
alpha <- 0.05
power <- 0.80
corr <- .3
attrition <- 0
n <- round(((((qnorm(1-alpha/2) + qnorm(power))^2)*sd_out)/(((b*sd_pred)^2)*(1-(corr^2))))/(1-attrition),0)
n
